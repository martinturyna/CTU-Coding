<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- saved from url=(0060)https://cw.felk.cvut.cz/courses/a4b33alg/task.php?task=rover -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta http-equiv="cache-control" content="no-cache">
  <link rel="stylesheet" type="text/css" href="./Zad�n� �lohy z A4B33ALG_files/default.css">
  <title>Zad�n� �lohy z A4B33ALG</title>
</head>
<div><template shadowrootmode="open"><style>.skip-silence-bar{all:initial;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#fff;max-height:25px;background:#293033;border-radius:25px;align-items:center;padding:8px 8px 8px 20px;font-family:Poppins,sans-serif;animation:animate-in-command-bar .5s;display:flex;position:fixed;bottom:1rem;right:1rem}.skip-silence-bar .bar-text{align-items:center;display:flex}.skip-silence-bar .info{text-decoration:underline;color:#565656!important}.skip-silence-bar .speed-setting{display:flex}.skip-silence-bar .speed-setting label{white-space:nowrap;align-items:center;margin-right:5px;display:flex}.skip-silence-bar .slider-setting .setting-info{align-items:center;margin-top:0;display:flex}.skip-silence-bar .slider-setting input{display:none}@keyframes animate-in-command-bar{0%{opacity:0}}.skip-silence-bar-collapsed{color:#fff;width:40px;height:40px;cursor:pointer;background:#293033;border-radius:50%;justify-content:center;align-items:center;animation:animate-in-command-collapsed .5s;display:flex;position:fixed;bottom:1rem;right:1rem}@keyframes animate-in-command-collapsed{0%{opacity:0}}.skip-silence-bar,.skip-silence-bar-collapsed{z-index:100000}@font-face{font-family:Poppins;font-style:normal;font-display:swap;font-weight:400;src:url(poppins-devanagari-400-normal.20fc2635.woff2)format("woff2"),url(poppins-all-400-normal.0298587e.woff)format("woff");unicode-range:U+900-97F,U+1CD0-1CF6,U+1CF8-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FB}@font-face{font-family:Poppins;font-style:normal;font-display:swap;font-weight:400;src:url(poppins-latin-ext-400-normal.9f87e1a8.woff2)format("woff2"),url(poppins-all-400-normal.0298587e.woff)format("woff");unicode-range:U+100-24F,U+259,U+1E??,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-display:swap;font-weight:400;src:url(poppins-latin-400-normal.53f07e8c.woff2)format("woff2"),url(poppins-all-400-normal.0298587e.woff)format("woff");unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-display:swap;font-weight:600;src:url(poppins-devanagari-600-normal.5b72b0b7.woff2)format("woff2"),url(poppins-all-600-normal.29420735.woff)format("woff");unicode-range:U+900-97F,U+1CD0-1CF6,U+1CF8-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FB}@font-face{font-family:Poppins;font-style:normal;font-display:swap;font-weight:600;src:url(poppins-latin-ext-600-normal.472ef062.woff2)format("woff2"),url(poppins-all-600-normal.29420735.woff)format("woff");unicode-range:U+100-24F,U+259,U+1E??,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-display:swap;font-weight:600;src:url(poppins-latin-600-normal.15391d77.woff2)format("woff2"),url(poppins-all-600-normal.29420735.woff)format("woff");unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.skip-silence-bar .header{justify-content:center;align-items:center;margin-left:15px;display:flex}.skip-silence-bar{all:initial;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#fff;max-height:25px;background:#293033;border-radius:25px;align-items:center;padding:8px 8px 8px 20px;font-family:Poppins,sans-serif;animation:animate-in-command-bar .5s;display:flex;position:fixed;bottom:1rem;right:1rem}.skip-silence-bar .bar-text{align-items:center;display:flex}.skip-silence-bar .info{text-decoration:underline;color:#565656!important}.skip-silence-bar .speed-setting{display:flex}.skip-silence-bar .speed-setting label{white-space:nowrap;align-items:center;margin-right:5px;display:flex}.skip-silence-bar .slider-setting .setting-info{align-items:center;margin-top:0;display:flex}.skip-silence-bar .slider-setting input{display:none}.skip-silence-bar-collapsed{color:#fff;width:40px;height:40px;cursor:pointer;background:#293033;border-radius:50%;justify-content:center;align-items:center;animation:animate-in-command-collapsed .5s;display:flex;position:fixed;bottom:1rem;right:1rem}.skip-silence-bar,.skip-silence-bar-collapsed{z-index:100000}</style><div id="plasmo-shadow-container" style="z-index: 1; position: absolute;"><div id="plasmo-mount-container" style="display: flex; position: relative; top: 0px; left: 0px;"></div></div></template></div><body>
 <div class="main">


<h2><font color="blue">Collecting samples</font></h2>

<p align="justify">
A team of NASA researches aims to collect mineral samples from a surface of a distant planet. An exploration rover will be deployed
for this task. To plan its movement, the area of interest is divided into sectors forming a regular rectangular grid. Three types of sectors
are distinguished: rich in minerals, toxic and neutral.
The researches look for an optimal route, which will take the rover through a maximal possible number of rich in minerals sectors.
This task is not trivial as the environment on the surface and the technical parameters of the rover pose significant restrictions
on the movement. The starting sector, where the rover is dropped, can be chosen arbitrarily.
From the starting sector, the rover has to move eastwards (through next <i>K</i> &gt; 0 sectors), southwards (again through next <i>K</i> sectors),
westwards (<i>K</i> sectors) and northwards (<i>K</i> sectors), returning to the initial position. This means that the rover makes a loop
around the perimeter of a square and visits 4<i>K</i> sectors.
The samples, which were collected in the rich sectors, can degrade and become useless if the rover moves through many toxic sectors.
The researches calculated that this degradation does not occur if and only if the number <i>T</i> of toxic sectors visited by the rover is at
most half the number <i>R</i> of visited rich in minerals sectors (i.e., <i>T</i> ≤ <i>R</i> / 2).

</p>

<table border="0" width="550" align="center">
    <tbody><tr>
    <td align="center">
<img style="height: 200px;" src="./Zad�n� �lohy z A4B33ALG_files/examples.png">
<!--img style="height: 200px;" src="examples.png" /--><br><br>

<b>Image 1.</b> Sectors map examples. Rich in minerals sectors are green, toxic sectors are violet and neutral sectors are white.
Optimal routes are depicted by the red arrows.
    </td>
    </tr>
</tbody></table>

<br>

<h3><font color="blue">The task</font></h3>
<p align="justify">
You are given a map of sectors. Your task is to compute the maximal number of rich in minerals sectors that can be visited by the rover when its movement
is limited by the above formulated restrictions.
<br><br>

</p><hr>

<h3><font color="blue">Input</font></h3>
<p align="justify">
The first input line contains two integers <i>M</i> and <i>N</i> determining the sectors grid size: <i>M</i> is the number of rows,
<i>N</i> is the number of columns. Next, there are <i>M</i> lines, each of them containing <i>N</i> integers, separated by a space, 
describing types of sectors in the row.
Each neutral sector is represented by value 0, rich in minerals sector is represented by value 1 and toxic sector is represented
by value 2.
It holds <i>M</i> ≥ 2, <i>N</i> ≥ 2 and <i>MN</i> ≤ 10<sup>6</sup>.
</p>


<h3><font color="blue">Output</font></h3>
<p align="justify">
The output consists of one line containing one non-negative integer which equals the maximal number of rich in minerals sectors visited by the
rover following the given rules and keeping the collected samples nondegraded. 
</p>


<!-- EXAMPLE 1 -------------------------------------------------------------------------------------------------------------------- -->

<h3><font color="blue">Example 1</font></h3>


<b>Input</b><br>
<pre>4 4
1 0 1 2
2 0 2 1
1 2 1 0
0 1 2 0
</pre>

<b>Output</b><br>
<pre>2
</pre>

The solution of Example 1 is visualized in Image 1a).


<!-- EXAMPLE 2 -------------------------------------------------------------------------------------------------------------------- -->


<h3><font color="blue">Example 2</font></h3>

<b>Input</b><br>
<pre>6 8
0 0 2 2 2 1 2 1
0 1 2 2 1 0 1 1
0 0 1 0 1 2 0 2
2 1 0 2 2 1 1 1
1 2 1 0 0 0 1 0
1 2 0 1 1 2 1 1
</pre>

<b>Output</b><br>
<pre>9
</pre>

The solution of Example 2 is visualized in Image 1b).


<!-- EXAMPLE 3 -------------------------------------------------------------------------------------------------------------------- -->


<h3><font color="blue">Example 3</font></h3>
<b>Input</b><br>
<pre>8 10
1 2 0 0 2 0 2 2 1 2
2 1 2 2 1 1 2 1 2 2
1 2 1 1 1 0 2 2 2 1
0 2 2 1 0 2 2 2 1 2
2 2 2 1 0 2 1 2 2 0
1 0 1 1 2 0 2 1 1 1
2 2 0 2 2 0 1 2 2 0
0 2 2 0 2 2 0 2 0 2
</pre>

<b>Output</b><br>
<pre>8
</pre>



<hr>
<h3><font color="blue">Public data</font></h3>
<p align="justify">
The public data set is intended for easier debugging and approximate program correctness checking. The public data set is stored also in the upload system and each time a student submits a solution it is run on the public dataset and the program output to  stdout and stderr is available to him/her.
<br>
<a href="https://cw.felk.cvut.cz/courses/a4b33alg/getdata.php?task=rover&amp;item=datapub.zip"><b>Link to public data set</b></a>
</p>


</div>















</body></html>