<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- saved from url=(0070)https://cw.felk.cvut.cz/courses/a4b33alg/task.php?task=intervaldelete2 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta http-equiv="cache-control" content="no-cache">
  <link rel="stylesheet" type="text/css" href="./Zad�n� �lohy z A4B33ALG_files/default.css">
  <title>Zad�n� �lohy z A4B33ALG</title>
</head>
<div><template shadowrootmode="open"><style>.skip-silence-bar{all:initial;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#fff;max-height:25px;background:#293033;border-radius:25px;align-items:center;padding:8px 8px 8px 20px;font-family:Poppins,sans-serif;animation:animate-in-command-bar .5s;display:flex;position:fixed;bottom:1rem;right:1rem}.skip-silence-bar .bar-text{align-items:center;display:flex}.skip-silence-bar .info{text-decoration:underline;color:#565656!important}.skip-silence-bar .speed-setting{display:flex}.skip-silence-bar .speed-setting label{white-space:nowrap;align-items:center;margin-right:5px;display:flex}.skip-silence-bar .slider-setting .setting-info{align-items:center;margin-top:0;display:flex}.skip-silence-bar .slider-setting input{display:none}@keyframes animate-in-command-bar{0%{opacity:0}}.skip-silence-bar-collapsed{color:#fff;width:40px;height:40px;cursor:pointer;background:#293033;border-radius:50%;justify-content:center;align-items:center;animation:animate-in-command-collapsed .5s;display:flex;position:fixed;bottom:1rem;right:1rem}@keyframes animate-in-command-collapsed{0%{opacity:0}}.skip-silence-bar,.skip-silence-bar-collapsed{z-index:100000}@font-face{font-family:Poppins;font-style:normal;font-display:swap;font-weight:400;src:url(poppins-devanagari-400-normal.20fc2635.woff2)format("woff2"),url(poppins-all-400-normal.0298587e.woff)format("woff");unicode-range:U+900-97F,U+1CD0-1CF6,U+1CF8-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FB}@font-face{font-family:Poppins;font-style:normal;font-display:swap;font-weight:400;src:url(poppins-latin-ext-400-normal.9f87e1a8.woff2)format("woff2"),url(poppins-all-400-normal.0298587e.woff)format("woff");unicode-range:U+100-24F,U+259,U+1E??,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-display:swap;font-weight:400;src:url(poppins-latin-400-normal.53f07e8c.woff2)format("woff2"),url(poppins-all-400-normal.0298587e.woff)format("woff");unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-display:swap;font-weight:600;src:url(poppins-devanagari-600-normal.5b72b0b7.woff2)format("woff2"),url(poppins-all-600-normal.29420735.woff)format("woff");unicode-range:U+900-97F,U+1CD0-1CF6,U+1CF8-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FB}@font-face{font-family:Poppins;font-style:normal;font-display:swap;font-weight:600;src:url(poppins-latin-ext-600-normal.472ef062.woff2)format("woff2"),url(poppins-all-600-normal.29420735.woff)format("woff");unicode-range:U+100-24F,U+259,U+1E??,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-display:swap;font-weight:600;src:url(poppins-latin-600-normal.15391d77.woff2)format("woff2"),url(poppins-all-600-normal.29420735.woff)format("woff");unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.skip-silence-bar .header{justify-content:center;align-items:center;margin-left:15px;display:flex}.skip-silence-bar{all:initial;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#fff;max-height:25px;background:#293033;border-radius:25px;align-items:center;padding:8px 8px 8px 20px;font-family:Poppins,sans-serif;animation:animate-in-command-bar .5s;display:flex;position:fixed;bottom:1rem;right:1rem}.skip-silence-bar .bar-text{align-items:center;display:flex}.skip-silence-bar .info{text-decoration:underline;color:#565656!important}.skip-silence-bar .speed-setting{display:flex}.skip-silence-bar .speed-setting label{white-space:nowrap;align-items:center;margin-right:5px;display:flex}.skip-silence-bar .slider-setting .setting-info{align-items:center;margin-top:0;display:flex}.skip-silence-bar .slider-setting input{display:none}.skip-silence-bar-collapsed{color:#fff;width:40px;height:40px;cursor:pointer;background:#293033;border-radius:50%;justify-content:center;align-items:center;animation:animate-in-command-collapsed .5s;display:flex;position:fixed;bottom:1rem;right:1rem}.skip-silence-bar,.skip-silence-bar-collapsed{z-index:100000}</style><div id="plasmo-shadow-container" style="z-index: 1; position: absolute;"><div id="plasmo-mount-container" style="display: flex; position: relative; top: 0px; left: 0px;"></div></div></template></div><body>

<!-- saved from url=(0069)https://cw.felk.cvut.cz/courses/a4b33alg/task.php?task=intervaldelete -->

  
  <meta http-equiv="cache-control" content="no-cache">
  <link rel="stylesheet" type="text/css" href="./Zad�n� �lohy z A4B33ALG_files/default(1).css">
  <title>Zad�n� �lohy z A4B33ALG</title>


 <div class="main">


<h2><font color="blue">Interval Deletion in Binary Search Tree</font></h2>

<p align="justify">
Distinguished professor Fabinaris Suchbaum from Max Planck Institute for Software Systems in Saarbr�cken is a well recognized expert on
binary search trees (BST) and their improvements. Recently he has been contacted by Data4Ever company. To improve the performance
of their latest database, the company needs an efficient data structure
which supports a deletion of records whose key is within a given range of values. The solution delivered by professor Suchbaum is a binary search tree where the
requested operation is designed as follows.
    
Given a BST, which contains distinct keys, and interval <i>I</i>=[<i>r</i><sub>min</sub>, <i>r</i><sub>max</sub>], the interval deletion works in two phases.
During the first phase it removes all nodes whose key is in <i>I</i>
and all edges adjacent to the removed nodes. It also removes each edge connecting nodes with keys <i>a</i> &lt; <i>r</i><sub>min</sub> and
<i>b</i> &gt; <i>r</i><sub>max</sub>.
Let the resulting graph contain <i>k</i> connected components <i>T</i><sub>1</sub>,...,<i>T<sub>k</sub></i>.
Each of the components is a BST where the root is the node with the  
smallest depth among all nodes of this component in the original BST.
We assume that the sequence of trees <i>T<sub>i</sub></i> is sorted so that for each <i>i</i> &lt; <i>j</i> all keys in
<i>T<sub>i</sub></i> are smaller than keys in <i>T<sub>j</sub></i>.
During the second phase, trees <i>T<sub>i</sub></i> are merged together to form one BST. We denote this operation by
<i>Merge</i>(<i>T</i><sub>1</sub>,...,<i>T<sub>k</sub></i>). Its output is defined recurrently as follows:
</p><ol>
<li>For an empty sequence of trees, <i>Merge</i>() gives an empty BST.</li>
<li>For a one-element sequence containing a tree <i>T</i>, <i>Merge</i>(<i>T</i>) = <i>T</i>.</li>
<li>For a sequence of trees <i>T</i><sub>1</sub>,...,<i>T<sub>k</sub></i> where <i>k</i> &gt; 1,
let <i>a</i><sub>1</sub>&lt; <i>a</i><sub>2</sub>&lt; ... &lt; <i>a<sub>n</sub></i> be the sequence of keys stored in the union
of all trees <i>T</i><sub>1</sub>,...,<i>T<sub>k</sub></i>, sorted in ascending order.
Moreover, let <i>m</i> = ⌊(1+<i>n</i>)/2⌋ and let <i>T<sub>s</sub></i> be the tree which contains <i>a<sub>m</sub></i>. Then,
<i>Merge</i>(<i>T</i><sub>1</sub>,...,<i>T<sub>k</sub></i>) gives a tree <i>T</i> created by merging three trees
<i>T<sub>s</sub></i>, <i>T<sub>L</sub></i> = <i>Merge</i>(<i>T</i><sub>1</sub>,...,<i>T</i><sub><i>s</i>-1</sub>) and 
<i>T<sub>R</sub></i> =  <i>Merge</i>(<i>T</i><sub><i>s</i>+1</sub>,...,<i>T<sub>k</sub></i>). These trees are merged by establishing the following two links:
<i>T<sub>L</sub></i> is appended as the left subtree of the node storing the minimal key of <i>T<sub>s</sub></i> and
<i>T<sub>R</sub></i> is appended as the right subtree of the node storing the maximal key of <i>T<sub>s</sub></i>.</li>
</ol>

<p></p>

<table border="0" width="650" align="center">
    <tbody><tr>
    <td align="center">
<img style="height: 200px;" src="./Zad�n� �lohy z A4B33ALG_files/image.png">
<!--img style="height: 200px;" src="image.png" /--><br><br>

<b>Image 1.</b> a) A binary search tree containing 13 distinct keys. Interval deletion is called for the range [8, 16]. The nodes that are removed by the first phase
are colored in red. Four connected components emerge: <i>T</i><sub>1</sub> storing key 5, <i>T</i><sub>2</sub> storing keys 6 and 7, <i>T</i><sub>3</sub> storing
keys 17 and 18, and <i>T</i><sub>4</sub> storing keys 20 and 22. b) <i>Merge</i>(<i>T</i><sub>1</sub>, <i>T</i><sub>2</sub>, <i>T</i><sub>3</sub>, <i>T</i><sub>4</sub>)
is applied during the second phase. The magenta edges are added to form the resulting BST <i>T</i>. Since (1+7)/2=4 and the fourth key in the sequence
5,6,7,17,18,20,22 is key 17, which belongs to <i>T</i><sub>3</sub>, the root of <i>T</i><sub>3</sub> becomes the root of <i>T</i>.
    </td>
    </tr>
</tbody></table>

<p></p>

<table border="0" width="650" align="center">
    <tbody><tr>
    <td align="center">
<img style="height: 200px;" src="./Zad�n� �lohy z A4B33ALG_files/image2.png">
<!--img style="height: 200px;" src="image2.png" /--><br><br>

<b>Image 2.</b> a) The binary search tree from Image 1a). This time, interval deletion is called for the range [13, 15]. 
The edge between nodes storing keys 10 and 20 is removed because 10 &lt; 13 and 15 &lt; 20.
b) Three connected components are merged.
    </td>
    </tr>
</tbody></table>

<br>

<h3><font color="blue">The task</font></h3>
<p align="justify">
    Implement the operation of interval deletion. Test the operation by building a BST using <i>N</i> inserts,
followed by performing one interval deletion.
<br><br>

</p><hr>

<h3><font color="blue">Input</font></h3>
<p align="justify">
The first input line contains integer <i>N</i> determining the number of keys to be inserted into an empty BST.
The second input line contains <i>N</i> distinct integers separated by spaces. The integers represent keys to be inserted into the BST (in the order they are listed in).
The third input line contains integers <i>R</i><sub>min</sub> and <i>R</i><sub>max</sub>, separated by a space. The interval deletion removes each inserted key
<i>K</i> such that <i>R</i><sub>min</sub> ≤ <i>K</i> ≤ <i>R</i><sub>max</sub>. The keys to be inserted are values from 1 to 10<sup>7</sup>.
It is ensured that the resulting BST has at least 2 nodes.
It holds <i>R</i><sub>min</sub> ≤ <i>R</i><sub>max</sub> and <i>N</i> ≤ 10<sup>6</sup>.
</p>


<h3><font color="blue">Output</font></h3>
<p align="justify">
The output consists of one line containing integers <i>D</i> and <i>H</i> separated by space. Integer <i>D</i> is the depth of the final BST, obtained
after performing <i>N</i> inserts and one interval deletion. Integer <i>H</i> is the total number of nodes of depth <i>D</i>−1 in the final BST.
</p>


<!-- EXAMPLE 1 -------------------------------------------------------------------------------------------------------------------- -->

<h3><font color="blue">Example 1</font></h3>


<b>Input</b><br>
<pre>6
3 1 4 2 6 7
3 5
</pre>

<b>Output</b><br>
<pre>3 1
</pre>

<!-- EXAMPLE 2 -------------------------------------------------------------------------------------------------------------------- -->


<h3><font color="blue">Example 2</font></h3>

<b>Input</b><br>
<pre>13
10 5 8 6 9 7 20 15 22 13 17 16 18
8 16
</pre>

<b>Output</b><br>
<pre>3 3
</pre>

Example 2 is visualized in Image 1.


<!-- EXAMPLE 3 -------------------------------------------------------------------------------------------------------------------- -->


<h3><font color="blue">Example 3</font></h3>
<b>Input</b><br>
<pre>20
187 146 95 128 200 11 186 179 189 135 94 16 51 45 105 194 145 68 57 77
150 190
</pre>

<b>Output</b><br>
<pre>7 2
</pre>



<hr>
<h3><font color="blue">Public data</font></h3>
<p align="justify">
The public data set is intended for easier debugging and approximate program correctness checking. The public data set is stored also in the upload system and each time a student submits a solution it is run on the public dataset and the program output to  stdout and stderr is available to him/her.
<br>
<a href="https://cw.felk.cvut.cz/courses/a4b33alg/getdata.php?task=intervaldelete2&amp;item=datapub.zip"><b>Link to public data set</b></a>
</p>


</div>

















</body></html>